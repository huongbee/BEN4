<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div class="container">
    <div id="login">
      <h3 class="text-center text-white pt-5">Login form</h3>
      <div class="container">
        <div id="login-row" class="row justify-content-center align-items-center">
          <div id="login-column" class="col-md-6">
            <div id="login-box" class="col-md-12">
              <div id="login-form" class="form">
                <h3 class="text-center text-info">Login</h3>
                <div class="form-group">
                  <label for="username" class="text-info">Username:</label><br>
                  <input type="text" name="username" id="username" class="form-control">
                </div>
                <div class="form-group">
                  <label for="password" class="text-info">Password:</label><br>
                  <input type="password" name="password" id="password" class="form-control">
                </div>
                <div class="form-group">
                  <label for="remember-me" class="text-info"><span>Remember me</span>Â <span><input id="remember-me"
                        name="remember-me" type="checkbox"></span></label><br>
                  <input type="submit" name="submit" id="btnLogin" class="btn btn-info btn-md" value="Login">
                </div>
                <div id="register-link" class="text-right">
                  <a href="#" class="text-info">Register here</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  // $('#btnLogin').click(function () {
  // });

  $('#btnLogin').on('click', function () {
    console.log($('#username').val());

    $.ajax(
      'http://localhost:3000/user/login',
      {
        method: 'POST',
        dataType: 'json',
        data: {
          username: $('#username').val(),
          password: $('#password').val()
        },
        success: function (data) {
          if (data.success != false) {
            localStorage.setItem('accessKey', data.token);
            window.location.href = "http://localhost:3000/todo-list";
          }
          else {
            alert(data.message);
          }
        },
        error: function (jqXhr, textStatus, errorMessage) { // error callback
          console.log(errorMessage);// cho TH goi API ko thanh cong/url incorrect/timeout
        }
      }
    );
  })

//append
</script>

</html>